(this["webpackJsonpgocomet-assessment"]=this["webpackJsonpgocomet-assessment"]||[]).push([[0],{100:function(e,t,c){},107:function(e,t,c){},108:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),i=c(82),s=c.n(i),a=c(24),l=(c(98),c(14)),o=(c(99),c(9)),d=c(35),u=(c(100),c(61)),j=c(85),b=c(127),m=c(124),O=c(125),x=c(130),h=c(128),f=c(10),v=c(5);var p=function(e){var t=e.key,c=e.state,r=e.setStateMethod;Object(n.useEffect)((function(){var e;try{e=JSON.parse(localStorage.getItem(t))}catch(c){console.error("Error while parsing persisted data!",c)}e&&"object"===typeof e&&r(e)}),[]),Object(n.useEffect)((function(){return localStorage.setItem(t,JSON.stringify(c))}),[c,t])},g=c(3),I=Object(n.createContext)(null),N=I.Provider,w=Object(n.createContext)(null),S=w.Provider,C=function(){return Object(n.useContext)(I)},y=function(){return Object(n.useContext)(w)},k=function(e){var t=e.children,c=Object(n.useState)({cartItems:[]}),r=Object(v.a)(c,2),i=r[0],s=r[1],a=Object(n.useState)({wishlistItems:[]}),l=Object(v.a)(a,2),d=l[0],u=l[1];p({key:"cart_details",state:i,setStateMethod:s}),p({key:"wishlist_details",state:d,setStateMethod:u});return Object(g.jsx)(S,{value:{setCart:function(e){return s(Object(o.a)(Object(o.a)({},i),e))},setWishlist:function(e){return u(Object(o.a)(Object(o.a)({},d),e))},addCartItem:function(e){return s(Object(o.a)(Object(o.a)({},i),{},{cartItems:[].concat(Object(f.a)(i.cartItems),[Object(o.a)(Object(o.a)({},e),{},{quantity:1})])}))},editCartItem:function(e){var t=i.cartItems.findIndex((function(t){return t.url===e.url}));s(Object(o.a)(Object(o.a)({},i),{},{cartItems:[].concat(Object(f.a)(i.cartItems.slice(0,t)),[e],Object(f.a)(i.cartItems.slice(t+1)))}))},addWishlistItem:function(e){return u(Object(o.a)(Object(o.a)({},d),{},{wishlistItems:[].concat(Object(f.a)(d.wishlistItems),[e])}))},editWishlistItem:function(e){var t=d.wishlistItems.findIndex((function(t){return t.url===e.url}));u(Object(o.a)(Object(o.a)({},d),{},{wishlistItems:[].concat(Object(f.a)(d.wishlistItems.slice(0,t)),[e],Object(f.a)(d.wishlistItems.slice(t+1)))}))},removeCartItem:function(e){var t=i.cartItems.findIndex((function(t){return t.url===e.url}));s(Object(o.a)(Object(o.a)({},i),{},{cartItems:[].concat(Object(f.a)(i.cartItems.slice(0,t)),Object(f.a)(i.cartItems.slice(t+1)))}))},removeWishlistItem:function(e){var t=d.wishlistItems.findIndex((function(t){return t.url===e.url}));u(Object(o.a)(Object(o.a)({},d),{},{wishlistItems:[].concat(Object(f.a)(d.wishlistItems.slice(0,t)),Object(f.a)(d.wishlistItems.slice(t+1)))}))}},children:Object(g.jsx)(N,{value:{cart:i,wishlist:d},children:t})})},P=c(121),F=c(122),E=function(e){var t=e.value,c=e.onChange,n=Object(d.a)(e,["value","onChange"]);return Object(g.jsxs)(P.a,{d:"flex",h:"40px",mt:"0.25rem",children:[Object(g.jsx)(h.a,{variant:"unstyled",onClick:function(){return c(t+1)},border:"1px solid",borderRight:"none",borderRightRadius:"0px",h:"inherit",children:"+"}),Object(g.jsx)(F.a,Object(o.a)({type:"number",required:"true",min:"1",border:"none",value:t,size:"sm",width:"4rem",h:"40px",textAlign:"center",onChange:function(e){return c(e.target.value)},borderY:"1px solid",borderRadius:0},n)),Object(g.jsx)(h.a,{h:"inherit",border:"1px solid",borderLeft:"none",borderLeftRadius:"0px",variant:"unstyled",disabled:t<=1,onClick:function(e){return c(t-1)},children:"-"})]})},M=function(e){var t=e.children,c=Object(d.a)(e,["children"]);return Object(g.jsx)("button",Object(o.a)(Object(o.a)({className:"h-full ml-4 flex box-border items-center hover:border-b-4 border-red-300"},c),{},{children:t}))},R=Object(n.forwardRef)((function(e,t){var c=e.children,n=Object(d.a)(e,["children"]);return Object(g.jsx)("button",Object(o.a)(Object(o.a)({ref:t},n),{},{className:"w-12 h-full ml-4 flex flex-col box-border items-center text-xs font-bold",children:c}))})),W=function(e){var t,c,n,i,s,l=y(),d=l.removeWishlistItem,f=l.removeCartItem,v=l.addCartItem,p=l.editCartItem,I=C(),N=I.wishlist,w=I.cart,S=r.a.useMemo((function(){return[{label:"MEN"},{label:"WOMEN"},{label:"KIDS"},{label:"HOME & LIVING"},{label:"OFFERS"}]}),[]);return Object(g.jsxs)("header",{className:"header-root bg-white flex justify-between",children:[Object(g.jsx)(a.b,{to:"/",className:"text-3xl font-bold",children:"M"}),Object(g.jsx)("div",{className:"h-full flex items-center",children:S.map((function(e){return Object(g.jsx)(M,{children:e.label})}))}),Object(g.jsx)("div",{}),Object(g.jsxs)("div",{className:"flex flex-center",children:[Object(g.jsxs)(b.a,{placement:"bottom",children:[Object(g.jsx)(b.g,{children:Object(g.jsxs)(R,{children:[Object(g.jsx)(u.a,{className:"text-xl"}),Object(g.jsx)("span",{children:"Wishlist"})]})}),Object(g.jsxs)(b.e,{outline:"none",children:[Object(g.jsx)(b.b,{}),Object(g.jsx)(b.d,{}),Object(g.jsx)(b.f,{fontWeight:"bold",children:"Wishlist"}),Object(g.jsxs)(b.c,{children:[!(null===(t=N.wishlistItems)||void 0===t?void 0:t.length)&&Object(g.jsx)(m.a,{textAlign:"center",p:"0.5rem",children:"Your wishlist is empty!"}),null===(c=N.wishlistItems)||void 0===c?void 0:c.map((function(e){return Object(g.jsxs)(a.b,{to:e.url,className:"flex p-2",children:[Object(g.jsx)(O.a,{w:"100%",maxW:"75px",ratio:1,mr:"0.25rem",children:Object(g.jsx)(x.a,{borderRadius:"md",objectFit:"fill",src:e.images[0].src,alt:e.title})}),Object(g.jsxs)("div",{className:"flex-1",children:[Object(g.jsx)("div",{className:"font-bold text-sm truncate",children:e.brand}),Object(g.jsx)("div",{className:"text-xs leading-4 truncate",children:e.additionalInfo}),Object(g.jsx)(h.a,{mt:"0.5rem",size:"xs",onClick:function(t){t.preventDefault(),v(e)},children:"Add to Cart"})]}),Object(g.jsx)("button",{className:"text-red-400",onClick:function(t){t.preventDefault(),d(e)},children:Object(g.jsx)(u.b,{})})]},e.url)}))]})]})]}),Object(g.jsxs)(b.a,{placement:"bottom",children:[Object(g.jsx)(b.g,{children:Object(g.jsxs)(R,{children:[Object(g.jsx)(j.a,{className:"text-xl"}),Object(g.jsx)("span",{children:"Cart"})]})}),Object(g.jsxs)(b.e,{outline:"none",children:[Object(g.jsx)(b.b,{}),Object(g.jsx)(b.d,{}),Object(g.jsx)(b.f,{fontWeight:"bold",children:"Cart"}),Object(g.jsxs)(b.c,{children:[!(null===(n=w.cartItems)||void 0===n?void 0:n.length)&&Object(g.jsx)(m.a,{textAlign:"center",p:"0.5rem",children:"Your cart is empty!"}),null===(i=w.cartItems)||void 0===i?void 0:i.map((function(e){return Object(g.jsxs)("div",{className:"flex p-2",children:[Object(g.jsx)(O.a,{w:"100%",maxW:"75px",ratio:1,mr:"0.25rem",children:Object(g.jsx)(x.a,{borderRadius:"md",objectFit:"fill",src:e.images[0].src,alt:e.title})}),Object(g.jsxs)("div",{className:"flex-1",children:[Object(g.jsxs)(a.b,{to:e.url,children:[Object(g.jsx)("div",{className:"font-bold text-sm truncate",children:e.brand}),Object(g.jsx)("div",{className:"text-xs leading-4 truncate",children:e.additionalInfo})]}),Object(g.jsx)(E,{value:e.quantity,onChange:function(t){return p(Object(o.a)(Object(o.a)({},e),{},{quantity:t}))}})]}),Object(g.jsx)("button",{className:"text-red-400",onClick:function(t){t.preventDefault(),f(e)},children:Object(g.jsx)(u.b,{})})]},e.url)})),!!(null===(s=w.cartItems)||void 0===s?void 0:s.length)&&Object(g.jsxs)("div",{className:"flex flex-row-reverse p-2",children:[Object(g.jsx)(h.a,{ml:"auto",children:"Checkout"})," "]})]})]})]})]})]})},_=c(126);var A=function(e,t){var c=Object(n.useRef)();Object(n.useEffect)((function(){c.current=e}),[e]),Object(n.useEffect)((function(){if(null!==t){var e=setInterval((function(){c.current()}),t);return function(){return clearInterval(e)}}}),[t])},D=function(e){return"Rs. ".concat(parseFloat(e).toLocaleString("en-US",{minimumIntegerDigits:2,maximumFractionDigits:0,useGrouping:!0}))},L=(c(107),function(e){var t,c,r=e.product,i=C().wishlist,s=y(),l=s.addWishlistItem,o=s.removeWishlistItem,d=Object(n.useState)(!1),u=Object(v.a)(d,2),j=u[0],b=u[1],m=Object(n.useState)(0),O=Object(v.a)(m,2),x=O[0],h=O[1];A((function(){var e,t=x+1?x+1:0;(null===(e=r.images[x])||void 0===e?void 0:e.src)||(t+=1),x>r.images.length-1&&(t=0),h(t)}),j?1500:null);var f=Object(n.useMemo)((function(){var e;return!!(null===i||void 0===i||null===(e=i.wishlistItems)||void 0===e?void 0:e.find((function(e){return e.url===r.url})))}),[i.wishlistItems,r]);return Object(g.jsxs)("li",{className:"product-item",onMouseEnter:function(){return b(!0)},onMouseLeave:function(){b(!1),h(0)},children:[Object(g.jsxs)(a.b,{to:"/".concat(r.url),className:"product-link",children:[Object(g.jsx)("div",{className:"product-images",children:Object(g.jsx)("div",{className:"product-slider-container",children:Object(g.jsx)("picture",{className:"absolute h-full w-full",children:Object(g.jsx)("img",{src:null===(t=r.images[x])||void 0===t?void 0:t.src,alt:r.title,title:r.title})})})}),Object(g.jsxs)("div",{className:"product-metainfo",children:[Object(g.jsx)("div",{className:"product-name font-bold truncate",children:r.brand}),Object(g.jsx)("div",{className:"product-desc text-sm leading-4 truncate",children:r.additionalInfo}),Object(g.jsxs)("div",{className:"product-sizes leading-4 truncate",children:["Sizes:"," ",null===(c=r.allSkuForSizes)||void 0===c?void 0:c.map((function(e){return Object(g.jsx)("span",{className:"product-sku-size font-light text-gray-400",children:e.label})}))]}),Object(g.jsxs)("div",{className:"product-price",children:[Object(g.jsx)("span",{className:"font-bold text-sm mr-2",children:D(r.discountedPrice)}),r.originalPrice!==r.discountedPrice&&Object(g.jsxs)("span",{className:"text-xs text-red-600",children:[Object(g.jsx)("strike",{className:"mr-2 black",children:D(r.originalPrice)}),r.discountPercentage]})]})]})]}),Object(g.jsxs)("div",{className:"product-actions",children:[Object(g.jsx)("div",{className:"flex flex-center"}),Object(g.jsx)("button",{type:"button",onClick:function(){return f?o(r):l(r)},className:"w-full px-2 py-1 leading-6 text-center border text-sm rounded-sm border-gray-200 hover:border-gray-400 ".concat(f?"text-red-600":""),children:f?"REMOVE FROM WISHLIST":"WISHLIST"})]})]})}),z={products:"/gocomet-assessment/fakeapi/products.json",filter_data:"/gocomet-assessment/fakeapi/filter_data.json"},H=function(){return Promise.all(Object.values(z).map((function(e){return fetch(e)}))).then((function(e){return Promise.all(e.map((function(e){return e.json()})))}))},T=Object(n.createContext)(null),q=T.Provider,G=Object(n.createContext)(null),J=G.Provider,V={gender:null,categories:[],price_range:[]},B=function(e){var t=e.children,c=Object(n.useState)({gender:[],categories:[],price_range:[]}),r=Object(v.a)(c,2),i=r[0],s=r[1],a=Object(n.useState)(V),l=Object(v.a)(a,2),d=l[0],u=l[1],j=function(e){return u(Object(o.a)(Object(o.a)({},d),e))};return Object(g.jsx)(J,{value:{setFilterData:s,setAppliedFilters:j,clearFilters:function(){return j(V)}},children:Object(g.jsx)(q,{value:{appliedFilters:d,filterData:i},children:t})})},Y=Object(n.createContext)(null),K=Y.Provider,U=Object(n.createContext)(null),Q=U.Provider,X=[{title:"Popularity",checked:!1,option:"popularity",method:function(e,t){return e.ratingCount>t.ratingCount}},{title:"Better Discount",checked:!1,option:"discount",method:function(e,t){return e.discountedPrice/e.originalPrice>t.discountedPrice/t.originalPrice}},{title:"Price: High to Low",checked:!1,option:"price_desc",method:function(e,t){return e.discountedPrice<t.discountedPrice}},{title:"Price: Low to High",checked:!1,option:"price_asc",method:function(e,t){return e.discountedPrice>t.discountedPrice}}],Z=function(e){var t=e.children,c=Object(n.useState)(""),r=Object(v.a)(c,2),i=r[0],s=r[1];return Object(g.jsx)(Q,{value:{setAppliedSort:s},children:Object(g.jsx)(K,{value:{appliedSort:i,sortValues:X},children:t})})},$=function(e){var t=e.children;return Object(g.jsx)("div",{className:"flex flex-col text-sm pl-5 py-3 border-b border-r border-gray-300",children:t})},ee=function(e){var t=e.id,c=e.label,n=Object(d.a)(e,["id","label"]);return Object(g.jsxs)("label",{className:"font-semibold mt-2",htmlFor:t,children:[Object(g.jsx)("input",Object(o.a)(Object(o.a)({type:"radio",id:t},n),{},{className:"mr-2"})),c]})},te=function(e){var t=e.id,c=e.label,n=Object(d.a)(e,["id","label"]);return Object(g.jsxs)("label",{htmlFor:t,className:"mt-2",children:[Object(g.jsx)("input",Object(o.a)(Object(o.a)({type:"checkbox",id:t},n),{},{className:"mr-2"})),c]})};var ce=function(){var e,t,c,r=Object(n.useContext)(G),i=r.setFilterData,s=r.setAppliedFilters,l=Object(n.useContext)(T),o=l.filterData,d=l.appliedFilters,u=Object(n.useContext)(Y),j=u.appliedSort,b=u.sortValues,m=Object(n.useContext)(U).setAppliedSort,O=Object(n.useState)(!0),x=Object(v.a)(O,2),h=(x[0],x[1]),p=Object(n.useState)([]),I=Object(v.a)(p,2),N=I[0],w=I[1];Object(n.useEffect)((function(){h(!0),H().then((function(e){var t=Object(v.a)(e,2),c=t[0],n=t[1];w(c),i(n),h(!1)}))}),[]);var S=Object(n.useMemo)((function(){var e=[],t=d.price_range.map((function(e){return o.price_range.find((function(t){return t.id===e}))}));return(null===t||void 0===t?void 0:t.length)>0&&(e=[].concat(Object(f.a)(e),Object(f.a)(t.map((function(e){return function(t){return t.discountedPrice<=parseInt(e.end)&&t.discountedPrice>=parseInt(e.start)}}))))),function(t){return!(e.length>0)||e.reduce((function(e,c){return c(t)||e}),!1)}}),[d.price_range,o.price_range]),C=Object(n.useMemo)((function(){return N.filter((function(e){return S(e)}))}),[N,S]),y=Object(n.useMemo)((function(){if(!j)return C;var e=b.find((function(e){return e.option===j}));return(null===e||void 0===e?void 0:e.method)?C.sort(e.method):C}),[C,j,b]);return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"mx-5 mt-5 text-sm leading-8",children:[Object(g.jsxs)("div",{children:[Object(g.jsx)(a.b,{to:"/",children:" Home /"}),Object(g.jsx)("span",{className:"font-semibold",children:"Shirts for Men & Women"})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("span",{className:"font-semibold",children:"Shirts For Men & Women"})," - 89375 items"]})]}),Object(g.jsxs)("div",{className:"flex pt-3",children:[Object(g.jsxs)("div",{className:"filters sticky top-24 self-start flex flex-col w-1/4",children:[Object(g.jsx)("span",{className:"font-semibold pl-5 flex items-center text-md w-full h-12 border-b border-gray-300",children:"FILTERS"}),Object(g.jsx)($,{children:null===(e=o.gender)||void 0===e?void 0:e.map((function(e){return Object(g.jsx)(ee,{label:e.title,id:"filter-gender-".concat(e.title),value:e.title,checked:d.gender===e.title,onChange:function(){return s({gender:e.title})},name:"filter-gender"},e.title)}))}),Object(g.jsxs)($,{children:[Object(g.jsx)("h3",{className:"text-md font-semibold",children:"CATEGORIES"}),null===(t=o.categories)||void 0===t?void 0:t.map((function(e){var t;return Object(g.jsx)(te,{label:Object(g.jsxs)(g.Fragment,{children:[e.id,Object(g.jsxs)("span",{className:"font-mono text-xs",children:[" ",e.count]})]}),id:"filter-category-".concat(e.id),value:e.id,checked:!!(null===(t=d.categories)||void 0===t?void 0:t.includes(e.id)),onChange:function(t){var c,n,r;return s({categories:t.target.checked?Array.from(new Set([].concat(Object(f.a)(null!==(c=d.categories)&&void 0!==c?c:[]),[e.id]))):null===(n=null!==(r=d.categories)&&void 0!==r?r:[])||void 0===n?void 0:n.filter((function(t){return t!==e.id}))})},name:"filter-category"},e.id)}))]}),Object(g.jsxs)($,{children:[Object(g.jsx)("h3",{className:"text-md font-semibold",children:"PRICE RANGE"}),null===(c=o.price_range)||void 0===c?void 0:c.map((function(e){var t;return Object(g.jsx)(te,{label:Object(g.jsxs)(g.Fragment,{children:["Rs. ".concat(e.start," to Rs. ").concat(e.end),Object(g.jsxs)("span",{className:"font-mono text-xs",children:[" (",e.count,")"]})]}),id:"filter-price-".concat(e.id),value:e.id,checked:!!(null===(t=d.price_range)||void 0===t?void 0:t.includes(e.id)),onChange:function(t){var c,n,r;return s({price_range:t.target.checked?Array.from(new Set([].concat(Object(f.a)(null!==(c=d.price_range)&&void 0!==c?c:[]),[e.id]))):null===(n=null!==(r=d.price_range)&&void 0!==r?r:[])||void 0===n?void 0:n.filter((function(t){return t!==e.id}))})},name:"filter-price"},e.id)}))]})]}),Object(g.jsxs)("div",{className:"products flex flex-col w-full",children:[Object(g.jsx)("div",{className:"products-sort-container  w-full h-12 p-2 border-b border-gray-300 flex flex-row-reverse",children:Object(g.jsx)(_.a,{size:"sm",value:j,onChange:function(e){return m(e.target.value)},w:"14rem",placeholder:"Sort by",children:b.map((function(e){return Object(g.jsxs)("option",{value:e.option,children:["Sort by: ",e.title]},e.option)}))})}),Object(g.jsxs)("ul",{className:"py-8 px-6 flex flex-wrap",children:[y.map((function(e){return Object(g.jsx)(L,{product:e})})),!y.length&&Object(g.jsx)("span",{className:"w-full text-center mt-6",children:"No Products found!"})]})]})]})]})};var ne=function(){var e=Object(n.useState)(!0),t=Object(v.a)(e,2),c=(t[0],t[1]),r=Object(n.useState)([]),i=Object(v.a)(r,2),s=(i[0],i[1]),a=Object(n.useState)({gender:[],categories:[],price:[]}),l=Object(v.a)(a,2),o=(l[0],l[1]);return Object(n.useEffect)((function(){c(!0),H().then((function(e){var t=Object(v.a)(e,2),c=t[0],n=t[1];s(c),o(n)}))}),[]),Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{children:["Home / ",Object(g.jsx)("span",{className:"bold semi-bold",children:"Shirts for Men & Women"})]}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{})]})};var re=function(){return Object(g.jsx)(B,{children:Object(g.jsx)(Z,{children:Object(g.jsxs)("div",{className:"App min-h-screen flex-col",children:[Object(g.jsx)(W,{}),Object(g.jsx)("main",{className:"mt-20",children:Object(g.jsxs)(l.c,{children:[Object(g.jsx)(l.a,{path:"/",exact:!0,children:Object(g.jsx)(ce,{})}),Object(g.jsx)(l.a,{path:"/:id",component:ne})]})})]})})})},ie=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,131)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;c(e),n(e),r(e),i(e),s(e)}))},se=c(129);s.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(a.a,{basename:"/gocomet-assessment",children:Object(g.jsx)(se.a,{children:Object(g.jsx)(k,{children:Object(g.jsx)(re,{})})})})}),document.getElementById("root")),ie()},98:function(e,t,c){},99:function(e,t,c){}},[[108,1,2]]]);
//# sourceMappingURL=main.c6faef7d.chunk.js.map